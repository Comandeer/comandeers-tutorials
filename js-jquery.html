<!DOCTYPE html>
	<html lang="pl" dir="ltr" class="no-js">
		<head>
			<meta charset="UTF-8">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<script>
			(function(H,c){H[c]=H[c].replace(/\bno-js\b/,'')+' js'})(document.documentElement,'className');

			if ( location.host === 'tutorials.comandeer.pl' ) {
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','//www.google-analytics.com/analytics.js','ga');


				ga('create', 'UA-33158520-2', 'auto');
				ga('send', 'pageview');
			}

			/*
			 Details primitive polyfill by Comandeer
			 */
			"open"in document.createElement("details")||document.addEventListener("DOMContentLoaded",function(){try{[].forEach.call(document.querySelectorAll("details"),function(e){var t=e.querySelector("summary"),n=function(n){n?(e.removeAttribute("open"),t.setAttribute("aria-expanded",!1)):(e.setAttribute("open","open"),t.setAttribute("aria-expanded",!0))},i=function(){n(e.hasAttribute("open"))};n(!e.hasAttribute("open")),t.setAttribute("tabindex",0),t.setAttribute("role","button"),t.addEventListener("click",i),t.addEventListener("keyup",function(e){-1!==[13,32].indexOf(e.keyCode)&&(e.preventDefault(),this.click())})})}catch(e){}})
			</script>
			<script async defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>
			<title>Czemu nie potrzebujesz jQuery?
				</title>
			<!--[if lt IE 9]>
				<script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
			<![endif]-->
			<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Roboto:300,400,500,700%7CMaterial+Icons">
			<link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.deep_purple-indigo.min.css">
			<link rel="stylesheet" href="/css/prism.css">
			<link rel="stylesheet" href="/css/mdl/custom.css">
		</head>
		<body>
			<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
				<header class="mdl-layout__header mdl-layout__header--always-visible">
					<div class="mdl-layout__header-row">
							<h1 class="mdl-layout-title">
								<a href="/" class="mdl-layout-title__link mdl-color-text--white" title="« Powrót do spisu tutoriali">Tutorials</a>
							</h1>
					</div>
				</header>

				<div class="mdl-layout__drawer mdl-layout__drawer--wide">
			<span class="mdl-layout-title">
				<a href="/" class="mdl-layout-title__link" title="« Powrót do spisu tutoriali">Tutorials</a>
			</span>
			<nav>
				<ul class="mdl-navigation">
				<li class="mdl-navigation__item">
				<a href="#mimo" class="mdl-navigation__link">Mimo że zdaje ci się inaczej
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#alternatywa" class="mdl-navigation__link">Alternatywa?
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#dom" class="mdl-navigation__link">Podstawowe operacje DOM-owe
				</a>
			<ul class="mdl-navigation"><li class="mdl-navigation__item">
				<a href="#selektory" class="mdl-navigation__link">Wyszukiwanie po selektorach
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#chaining" class="mdl-navigation__link">Chainowanie metod
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#delegation" class="mdl-navigation__link">Event delegation
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#clone" class="mdl-navigation__link"><code class="mdl-color--white mdl-color-text--orange-600">.clone</code>
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#extend" class="mdl-navigation__link"><code class="mdl-color--white mdl-color-text--orange-600">.extend</code>
				</a>
			</li></ul></li><li class="mdl-navigation__item">
				<a href="#animacje" class="mdl-navigation__link">Animacje
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#xhr" class="mdl-navigation__link">XHR
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#ui" class="mdl-navigation__link">jQUI
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#ale" class="mdl-navigation__link">Ale za to w jQ da się…
				</a>
			</li><li class="mdl-navigation__item">
				<a href="#czy-porzucic" class="mdl-navigation__link">Czy porzucić?
				</a>
			</li>
				</ul>
			</nav>
		</div>

				<div class="mdl-layout__content">
					<main class="content mdl-grid">
						<article class="mdl-cell--12-col">
							<h2 class="mdl-typography--display-3" id="start">Czemu nie potrzebujesz jQuery?<a href="#start" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h2>

<h3 class="mdl-typography--display-2" id="mimo">Mimo że zdaje ci się inaczej<a href="#mimo" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h3>
<p class="tutorials-note ">Ten tutorial kieruję do wszystkich tych, którzy nie wyobrażają sobie wykonania jakiejkolwiek prostej czynności w JS bez użycia tej wszechstronnej biblioteki. Część zarzutów tyczy się też mnie, gdyż osobiście również korzystam z jQuery (hej, to nie moja wina, że DOM jest tak spaprany!)</p>


<h3 class="mdl-typography--display-2" id="alternatywa">Alternatywa?<a href="#alternatywa" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h3>
<p class="tutorials-note "><a href="http://vanilla-js.com/">VanillaJS</a> + <a href="http://microjs.com/">jeden z tych maluczkich</a></p>


<h3 class="mdl-typography--display-2" id="dom">Podstawowe operacje DOM-owe<a href="#dom" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h3>

<h4 class="mdl-typography--display-1" id="selektory">Wyszukiwanie po selektorach<a href="#selektory" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h4>
<p class="tutorials-note ">Potęgą jQuery jest jego silniczek Sizzle, który pozwala wyszukać dowolny element tylko i wyłącznie na podstawie selektora. To jest często główny/jedyny powód, dla którego część webmasterów sięga po jQ.</p>
<p class="code">Kod:</p><pre><code class="language-javascript">$( '#bardzo &gt; optymalny .selektor #ktory .na-bank.dziala' );</code></pre>
<p class="tutorials-note mdl-color--primary mdl-color-text--white">Oczywiście optymalizacja takich selektorów to zupełnie inna sprawa.</p>
<p class="tutorials-note ">Skupmy się na tym, czy w czystym JS istnieje jakaś alternatywa dla tego pięknego owijacza? Otóż tak!</p>
<p class="code">Kod:</p><pre><code class="language-javascript">document.querySelectorAll( '#bardzo &gt; optymalny .selektor #ktory .na-bank.dziala' );</code></pre>
<p class="tutorials-note ">Prawdę mówiąc, jeśli przyjrzymy się kodowi jQ, zauważymy, że wewnętrznie używa on właśnie tej metody. Nie trzeba chyba mówić, co jest szybsze. Oczywiście można pójść o krok dalej i zrobić sobie coś takiego:</p>
<p class="code">Kod:</p><pre><code class="language-javascript">var $ = document.querySelectorAll.bind( document );</code></pre>
<p class="tutorials-note ">Voila! Mamy jQ bez jQ.</p>

<h4 class="mdl-typography--display-1" id="chaining">Chainowanie metod<a href="#chaining" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h4>
<p class="tutorials-note ">Chainowanie metod to to, co decyduje o niezwykłej użyteczności jQ w zastosowaniach DOM-owych.</p>
<p class="code">Kod:</p><pre><code class="language-javascript">$( '&lt;a&gt;' ).attr( 'href', '#' ).on( 'click', function() {} );</code></pre>
<p class="tutorials-note ">Owszem, w VanillaJS nie jestem w stanie uzyskać tak wygodnej obsługi DOM. Ale tu z pomocą przychodzi nam <a href="http://leaverou.github.com/chainvas/">Chainvas</a> – małe cudeńko, które jest w stanie złańcuchować <i>de facto</i> wszystko. Dzięki temu można spokojnie napisać:</p>
<p class="code">Kod:</p><pre><code class="language-javascript">document.createElement( 'a' ).setAttribute( 'href', '#' ).addEventListener( 'click', function() {} );</code></pre>
<p class="tutorials-note ">I tym sposobem odebraliśmy jQ największą jego przewagę w operacjach DOM-owych, oszczędzając przy tym 31KB kodu (oczywiście mowa tu o wersjach gzipniętych i zminifikowanych).</p>

<h4 class="mdl-typography--display-1" id="delegation">Event delegation<a href="#delegation" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h4>
<p class="tutorials-note ">w jQ jest prosto:</p>
<p class="code">Kod:</p><pre><code class="language-javascript">$( document ).on( 'click', '.clicky', function( evt ) {
	//awesome stuff
} );</code></pre>
<p class="tutorials-note ">w czystym JS też jest prosto</p>
<p class="code">Kod:</p><pre><code class="language-javascript">document.addEventListener( 'click', function( evt ) {
	if ( !evt.target || !e.target.matches( '.clicky' ) /* Można zmienić na !evt.target.classList.contains( 'clicky' )*/ ) {
		return;
	}
	//awesome stuff
}, false );</code></pre>

<h4 class="mdl-typography--display-1" id="clone"><code class="mdl-color--white mdl-color-text--orange-600">.clone</code><a href="#clone" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h4>
<p class="tutorials-note ">Żeby sklonować obiekt w jQ, wystarczy skorzystać z metody <code class="mdl-color--white mdl-color-text--orange-600">.clone</code>. Czy da się zrobić coś takiego w czystym JS? A i owszem.</p>
<p class="code">Kod:</p><pre><code class="language-javascript">function clone( obj ) {
	return obj.cloneNode ? obj.cloneNode( obj ) : JSON.parse( JSON.stringify( obj ) );
}
console.log( clone( document.createElement( 'a' ) ) );</code></pre>
<p class="tutorials-note ">Prosta i przyjemna sztuczka.</p>

<h4 class="mdl-typography--display-1" id="extend"><code class="mdl-color--white mdl-color-text--orange-600">.extend</code><a href="#extend" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h4>
<p class="tutorials-note ">To już nie jest do końca DOM, ale może się tu nadać.</p>
<p class="tutorials-note ">Jak wiadomo, w jQ mamy metodę <code class="mdl-color--white mdl-color-text--orange-600">.extend</code> rozszerzającą nam obiekt:</p>
<p class="code">Kod:</p><pre><code class="language-javascript">console.log( $.extend( {}, { cos: 1 } ) );</code></pre>
<p class="tutorials-note ">W czystym JS <a href="https://github.com/shimondoodkin/nodejs-clone-extend/blob/master/index.js#L40">też się da</a>. Ba, można być nawet chamskim i po prostu wyciągnąć ten kod z jQ.</p>


<h3 class="mdl-typography--display-2" id="animacje">Animacje<a href="#animacje" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h3>
<p class="tutorials-note ">Co tu dużo mówić – od kiedy w CSS są <code class="mdl-color--white mdl-color-text--orange-600">transition</code> i <code class="mdl-color--white mdl-color-text--orange-600">animation</code>, większość rzeczy można w ogóle wyjąć poza JS. Natomiast niektóre inne animacje z jQ można równie łatwo napisać w czystym JS. Przykład, lekko poprawiony, ze strony VanillaJS:</p>
<p class="code">Kod:</p><pre><code class="language-javascript">$( '#thing' ).fadeOut();
//vs
var s = document.getElementById( 'd' ).style;
s.opacity = +( s.opacity || window.getComputedStyle( el )[ 'opacity' ] );
( function f() { ( s.opacity -= 1 / 100 ) &lt;= 0 ? s.display = "none" : requestAnimationFrame( f ) }() );</code></pre>
<p class="tutorials-note ">Nie trzeba chyba zaznaczać, że porównanie objętościowe tych trzech linijek i całego jQ wypada korzystnie dla czystego JS.</p>
<p class="tutorials-note ">oczywiście warto zauważyć, że rAF jest tylko w nowszych browserach i trza by zarzucić jakimś fallbackiem:</p>
<p class="code">Kod:</p><pre><code class="language-javascript">window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function( f ){ setTimeout( f, 1000 / 60 ); };</code></pre>


<h3 class="mdl-typography--display-2" id="xhr">XHR<a href="#xhr" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h3>
<p class="tutorials-note ">Tu nie będzie przykładów, jedynie krótkie info.</p>
<p class="tutorials-note ">Otóż wrapper w jQ jest cholernie wygodny i w ogóle. Jednak jeśli chcemy mieć dostęp do bardziej zaawansowanych własności obiektu xhr (np. <code class="mdl-color--white mdl-color-text--orange-600">xhr.upload.progress</code>), <a href="https://github.com/malsup/form/blob/master/jquery.form.js#L258">trzeba użyć natywnego obiektu</a>.</p>


<h3 class="mdl-typography--display-2" id="ui">jQUI<a href="#ui" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h3>
<p class="tutorials-note ">Wiele rzeczy <a href="http://pulpit.luke.co.pl/">da się napisać</a> bez tego, wystarcza trochę pomyślunku.</p>
<p class="tutorials-note ">Szybki przykład na resize elementów (akurat wykorzystywany w zupełnie innym kontekście niż browserowy):</p>
<p class="code">Kod:</p><pre><code class="language-javascript">if ( &#91; 'l', 'r' &#93;.indexOf( resizing ) !== -1 ) {
	if ( resizing === 'l' ) {
		window.frame.width += x - e.pageX;
		window.frame.left -= x - e.pageX;
	} else {
		window.frame.width -= x - e.pageX;
	}

	if ( window.frame.width &lt; 60 ) {
		window.frame.width = 60;
	}

	x = e.pageX;
	y = e.pageY;
} else if ( &#91; 't', 'b' &#93;.indexOf( resizing ) !== -1 ) {
	if ( resizing === 't' ) {
		window.frame.height += y - e.pageY;
		window.frame.top -= y - e.pageY;
	} else {
		window.frame.height -= y - e.pageY;
	}

	if ( window.frame.height &lt; 120 ) {
		window.frame.height = 120;
	}

	x = e.pageX;
	y = e.pageY;
} else {
	window.frame.width -= x-e.pageX;
	window.frame.height -= y-e.pageY;
}</code></pre>
<p class="tutorials-note ">co prawda kod najwyższych lotów nie jest i raczej przedstawia ogólną ideę jak to może wyglądać, niż jak to powinno wyglądać. Ba, można zdać się na natywne funkcje, takie jak <code class="mdl-color--white mdl-color-text--orange-600">resize</code> w CSS (miało działać na wszystkim, ale nie wiem czy ta obietnica jest spełniona) i drag&drop (w IE od wersji 5 bodaj!). Dobitnie to pokazuje, że nawet tak skomplikowane czynności jakie wykonuje za nas jQUI można zrobić zarówno bez niego, jak i jego ojca – jQ.</p>



<h3 class="mdl-typography--display-2" id="ale">Ale za to w jQ da się…<a href="#ale" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h3>
<p class="tutorials-note ">Z racji tego, że jQ jest tylko subsetem JS, śmiem twierdzić, że nie ma rzeczy, której nie dałoby się osiągnąć w czystym JS. Jestem w stanie podjąć każde wyzwanie i udowodnić, że się da bez!</p>

<h3 class="mdl-typography--display-2" id="czy-porzucic">Czy porzucić?<a href="#czy-porzucic" title="Bezpo&#x15B;redni link do sekcji"><span class="material-icons" aria-hidden="true">link</span><span class="sr-only">Bezpośredni link do sekcji</span></a>
				</h3>
<p class="tutorials-note ">Nie trzeba. Sam używam i jestem zadowolony. Cały problem polega na tym, że jQuery jest przedstawiane jako lekarstwo na wszelkie zło JS, a to po prostu wierutna bzdura. jQuery powstało jako helper DOM-owy i to wciąż jest jego główną siłą.</p>
<p class="tutorials-note ">Co więcej, jQuery niszczy świadomość programistów sieciowych. Coraz częściej można spotkać bowiem nie programistów JS, a programistów jQuery, którzy jedynie tą biblioteką są w stanie się posługiwać.</p>
<p class="tutorials-note ">Dlatego nie mówię, żeby przestać jQ używać. Jeśli natomiast do stronki, gdzie trza oskryptować jeden link, wsadzasz jQ, to znak, że coś jest nie tego. Jeśli natomiast umiesz zastąpić jQ <a href="http://www.forumweb.pl/javascript/cancelbubble-stoppropagation-problem/397808#397808">własnym rozwiązaniem</a> i robisz to, gdy potrzebujesz jedną, konkretną rzecz, to oznacza, że jesteś zupełnie normalnym użytkownikiem tej biblioteki i syndrom uzależnienia Ciebie nie dotyczy.</p>

						</article>

						<section id="komentarze" class="mdl-cell--12-col">
							<h2 class="mdl-typography--title">Komentarze</h2>
							<div id="disqus_thread"></div>
							<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
							<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
						</section>
					</main>

					<footer class="mdl-mini-footer">
						<div class="mdl-mini-footer__left-section">
							<p>Copyright © by <a href="https://www.comandeer.pl" class="mdl-color-text--white" rel="author">Comandeer</a>.</p>
						</div>
					</footer>
				</div>
			</div>

			<script>
			( function() {
				try {
					var codes = document.getElementsByClassName( 'code' );

					[].forEach.call( codes, function( code ) {
						var next = code.nextElementSibling;

						if ( !next || next.tagName.toLowerCase() !== 'pre' || next.scrollHeight < 300 ) {
							return false;
						}

						code.innerHTML = code.innerHTML.replace( ':', ' <span class="code-switch">[Rozwiń]</span>:' );
						code.getElementsByTagName( 'span' )[ 0 ].toSwitch = next;
					} );

					document.addEventListener( 'click', function( evt ) {
						if ( !evt.target || !evt.target.classList.contains( 'code-switch' ) ) {
							return true;
						}

						evt.preventDefault();

						var target = evt.target,
							next = target.toSwitch,
							html = target.innerHTML;

						if ( !next || next.tagName.toLowerCase() !== 'pre' ) {
							return false;
						}

						next.classList.toggle( 'expanded' );
						target.innerHTML = ( html === '[Zwiń]' ? '[Rozwiń]' : '[Zwiń]' );
					} );

					//defer loading of disqus

					if ( location.host === 'tutorials.comandeer.pl' ) {
						window.disqus_shortname = 'comandeerowa';

						var dsq = document.createElement( 'script' );

						dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';

						( document.getElementsByTagName( 'head' )[ 0 ] || document.getElementsByTagName( 'body' )[ 0 ] ).appendChild( dsq );
					}
				} catch( err ) {}
			} () );
			</script>
			<script async src="/js/prism.js"></script>
		</body>
	</html>
